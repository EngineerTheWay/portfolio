---
import { Image } from "astro:assets";
import Badge from "../components/ui/badge/Badge.astro";
import GlowLineSeparator from '../components/ui/separator/GlowLineSeparator.astro'

interface Props {
  title: string;
  description: string;
  techStack?: string | string[];
  icon?: ImageMetadata;
}

const { title, description, techStack, icon } = Astro.props as Props;
---
<head>
        <style>
                /* Align blog layout with site container to avoid right overflow and tight column */
                main {
                    width: 1280px;
                    max-width: calc(100% - 2em);
                    margin: auto;
                    background: var(--color-bg-primary);
                }
            .hero-image {
                width: 100%;
            }
            .hero-image img {
                display: block;
                margin: 0 auto;
                border-radius: 12px;
                box-shadow: var(--box-shadow);
            }
                .prose {
                    width: 100%;
                    max-width: 870px; /* widen column */
                    margin: auto;
                    padding: 0.05em;
                    color: var(--color-text-secondary);
                }
            .title {
                margin-bottom: 1em;
                padding: 1em 0;
                text-align: center;
                line-height: 1;
            }
            .title h1 {
                margin: 0 0 0.5em 0;
                color: var(--color-text-primary);
            }
            .date {
                margin-bottom: 0.5em;
                color: var(--color-text-muted);
            }
            .last-updated-on {
                font-style: italic;
            }
        </style>
</head>

<article class="prose mx-auto">
  <h1>{title}</h1>
  <p class="text-lg text-[color:var(--color-text-secondary)]">{description}</p>

  {techStack && (
  <div class="mt-6">
    <span class="inline-flex flex-wrap gap-2 align-middle">
      {(Array.isArray(techStack) ? techStack : [techStack]).map((stack) => (
        <Badge>{stack}</Badge>
      ))}
         {icon && (
         <span class="mx-2 text-[color:var(--color-text-muted)]">|</span>
         <Image src={icon} alt="" width={24} height={24} aria-hidden="true" />
      )}
    </span>
        
    <br>
    <br>
    <GlowLineSeparator />
        
  </div>
)}

  <div class="mt-6">
    <slot />
  </div>

  <div class="mt-10">
    <a href="/projects" class="sw-btn">‚Üê Back to Projects</a>
  </div>
</article>
